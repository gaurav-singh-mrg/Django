{% load static %}
<link rel="stylesheet" href="{% static 'css/settings.css' %}">
<div class="container">
    <div id="accordion">
        <div class="card">
            <div class="card-header" id="headingOne">
                <h5 class="mb-0">
                    <button class="btn" aria-expanded="true" onclick="btn('first')">
                        Change Information
                    </button>
                </h5>
            </div>
            <div id="first" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
                <div class="card-body">
                    <form action="" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="col">
                            <div class="row">
                                <div class="col">
                                    <input type="file" class="updBtn" name="imageField" accept="image/*"
                                           id="id_imageField" value="/{{ a.ProfilePic }}"
                                           onblur="ChangePicture('PlaceForProfilePic','id_imageField')"
                                    >
                                    <div class="alignleftimage">
                                        <img id="PlaceForProfilePic"
                                             src="/{{ a.ProfilePic }}"
                                             alt="Change Profile Picture"
                                        >

                                    </div>

                                </div>
                                <div class="col">
                                    <div class="editFields">
                                        <div class="row">
                                            <input type="text" class="gk" id="first_name"
                                                   name="first_name"
                                                   placeholder="First name : {{user.first_name }}">
                                        </div>
                                        <div class="row">
                                            <input type="text" class="gk" id="last_name" name="last_name"
                                                   placeholder="Last name : {{user.last_name}}">
                                        </div>
                                        <div class="row">
                                            <input type="text" class="gk" onfocus="(this.type='date')"
                                                   onblur="(this.type='text')" id="dateofbirth" name="dateofbirth"
                                                   placeholder="Date Of Birth : {{a.DateOfBirth}}">
                                        </div>
                                        <div class="row">
                                            <input type="text" class="gk" id="country" name="country"
                                                   placeholder="Country : {{a.Country}}">
                                        </div>
                                        <div class="row">
                                            <input type="text" class="gk" id="state" name="state"
                                                   placeholder="State : {{a.State}}">
                                        </div>
                                    </div>
                                    <br>
                                    <div class="row">
                                        <button class="btn btn-primary" value="OK" type="submit">Save</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>

            </div>
        </div>
    </div>

    <!--        second -->
    <div class="card">
        <div class="card-header" id="headingTwo">
            <h5 class="mb-0">
                <button class="btn" onclick="btn('second')">
                    Change Password
                </button>
            </h5>
        </div>

        <div id="second" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col">
                            <div class="form-floating">
                                <input type="password" class="form-control" id="floatingPassword"
                                       name="pwd"
                                       placeholder="Password">
                                <label for="floatingPassword">Password</label>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-floating">
                                <input type="password" class="form-control" id="floatingPassword2"
                                       name="confirmpwd"
                                       placeholder="Confirm Password">
                                <label for="floatingPassword">Confirm Password</label>
                            </div>
                        </div>
                    </div>
                    <br>
                    <button type="submit" class="btn btn-dark">Save</button>
                </form>
            </div>
        </div>
    </div>
    <!--third-->
    <div class="card">
        <div class="card-header" id="headingThree">
            <h5 class="mb-0">
                <button class="btn" onclick="btn('third')">
                    Privacy Settings
                </button>
            </h5>
        </div>

        <div id="third" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col">
                            <div class="form-check form-switch">
                                <label class="form-check-label" for="flexSwitchCheckChecked">Private Account</label>
                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked"
                                       name="switch" checked>
                            </div>
                        </div>
                    </div>
                    <br>
                    <button type="submit" class="btn btn-dark">Save</button>
                </form>
            </div>
        </div>
    </div>

</div>

<!--</div>-->


<!--javascript code -->
<script>
    function btn(id) {
        const a = document.getElementById(id);
        const b = a.classList
        if (b[0] === 'show') {
            a.removeAttribute("class", "show")
            a.setAttribute("class", "collapse")
        } else
            a.setAttribute("class", "show")
    }


    function ChangePicture(src, target) {
    const a = document.getElementById(src)
    console.log(a)

    console.log(a.value)
    {% comment %} alert('Must Select any of your photo for upload!'); {% endcomment %}
}


function showImage(src,target) {
  var fr=new FileReader();
  // when image is loaded, set the src of the image where you want to display it
  fr.onload = function(e) { target.src = this.result; };
  src.addEventListener("change",function() {
    // fill fr with image data
    fr.readAsDataURL(src.files[0]);
  });
}

var src = document.getElementById("id_imageField");
var target = document.getElementById("PlaceForProfilePic");
showImage(src,target);
</script>


